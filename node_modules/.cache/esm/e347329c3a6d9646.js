let express,chat,cors;_3a6‍.w("express",[["default",["express"],function(v){express=v}]]);_3a6‍.w("./controllers/chat",[["default",["chat"],function(v){chat=v}]]);_3a6‍.w("cors",[["default",["cors"],function(v){cors=v}]]);



require('dotenv').config()



const app = express();
const http = require("http").createServer(app);

// socket io
const io = require("socket.io")(http, {
    path: "/socket.io",
    cors: {
        origin: ["http://localhost:3000"],
        methods: ["GET", "POST"],
        allowedHeaders: ["content-type"],
    },
})

app.use(cors());
app.use(express.json({ limit: "5mb" }));
app.use(express.urlencoded({ extended: true }));



app.get("/api", (req, res) => {
    res.send("THIS IS REST API!");
});

chat(io);

const port = process.env.PORT || 8000;
http.listen(port, () => console.log(`Server running on port ${port}`));





